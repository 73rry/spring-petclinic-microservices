server.port: 8888
spring:
  cloud:
    config:
      server:
        git:
          uri: https://github.com/TerryTantan/spring-petclinic-microservices-config
          default-label: main
        # Use the File System Backend to avoid git pulling. Enable "native" profile in the Config Server.
        native:
          searchLocations: file:///${GIT_REPO}

management:
  tracing:
    sampling:
      probability: 1
  zipkin:
    tracing:
      endpoint: http://tracing-server:9411/api/v2/spans

logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [${spring.application.name},%X{traceId:-},%X{spanId:-}] %-40.40logger{39} : %m%n"

---
spring:
  config:
    activate:
      on-profile: k8s
  cloud:
    config:
      server:
        prefix: /config
management:
  endpoint:
    metrics:
      enabled: true
    prometheus:
      enabled: true
  endpoints:
    web:
      exposure:
        include: '*'
  metrics:
    export:
      prometheus:
        enabled: true
